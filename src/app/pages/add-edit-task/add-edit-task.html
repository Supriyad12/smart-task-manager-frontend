<app-header></app-header>

<app-loader *ngIf="loading"></app-loader>

<div class="task-form" *ngIf="!loading">
  <h2>{{ isEditMode ? 'Edit Task' : 'Add Task' }}</h2>
  <form [formGroup]="taskForm" (ngSubmit)="submitTask()">
    <label>Title:</label>
    <input formControlName="title" placeholder="Enter title" />
    <div *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched">
      Title is required (min 5 characters)
    </div>

    <label>Description:</label>
    <textarea formControlName="description" placeholder="Enter description"></textarea>

    <label>Priority:</label>
    <select formControlName="priority">
      <option value="Low">Low</option>
      <option value="Medium">Medium</option>
      <option value="High">High</option>
    </select>

    <label>Status:</label>
    <select formControlName="status">
      <option value="Pending">Pending</option>
      <option value="In Progress">In Progress</option>
      <option value="Completed">Completed</option>
    </select>

    <button type="submit" [disabled]="taskForm.invalid">
      {{ isEditMode ? 'Update' : 'Add' }} Task
    </button>
  </form>
</div>
